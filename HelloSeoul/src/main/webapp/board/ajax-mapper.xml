<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sist.spring.dao.ajaxdao">

  <select id="selectEmp" resultType="java.util.HashMap">
   SELECT EMPNO, ENAME, JOB, NVL(MGR,0)MGR, TO_CHAR(HIREDATE,'YYYY/MM/DD')HIREDATE, SAL, NVL(COMM,0)COMM, DEPTNO FROM EMP  
  </select>
  
  <select id="selectStudent" resultType="java.util.HashMap">
  SELECT STUDNO, NAME, USERID, GRADE, IDNUM, TO_CHAR(BIRTHDATE,'YYYY/MM/DD')BIRTHDATE, TEL, HEIGHT,
   WEIGHT, DEPTNO, NVL(PROFNO,0)PROFNO FROM STUDENT
  </select>
  
  <insert id="insertAjaxMember" parameterType="java.util.HashMap" >
    INSERT INTO AJAXMEMBER(no,USERNAME,USERID,ADDRESS,PASSWORD,REGDATE) VALUES(#{no},#{userName},#{userId},#{address},#{password},SYSDATE)
  </insert>
  
  <select id="ajaxSequence" resultType="Integer">
    select ajaxmember_seq.nextval from dual
  </select>
  
  <select id="selectEmpSal" resultType="Integer">
  SELECT SAL FROM EMP
  </select>
  
  <select id="selectGroupEmp" resultType="HashMap">
  SELECT MAX(SAL)SAL,JOB FROM EMP GROUP BY JOB 
  </select>
  
  <select id="selectAvgGroup" resultType="HashMap">
  SELECT JOB,AVG(SAL)SAL FROM EMP GROUP BY JOB
  </select>
  
  <select id="selectSeqNumber" resultType="Integer">
    SELECT AJAXREPLYBOARD_seq.NEXTVAL FROM DUAL
  </select>
  
  <insert id="insertAjaxReply" parameterType="ajaxReplyBoardBean">
    INSERT INTO AJAXREPLYBOARD(no,id,writer,contents,regdate,ref,step,lev,pnum,reply,filename,infopk)
    VALUES(#{no},#{id},#{writer},#{contents},sysdate,#{ref},#{step},#{lev},#{pnum},#{reply},#{filename},#{infopk})
  </insert>
  
  <select id="selectAjaxReply">
  	SELECT NO, ID, WRITER, CONTENTS, REGDATE, REF, STEP, LEV, PNUM, REPLY, FILENAME, INFOPK 
  	FROM AJAXREPLYBOARD;
  </select>

</mapper>


















